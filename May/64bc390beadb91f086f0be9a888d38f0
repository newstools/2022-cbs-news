Bank of America will pay a $10 million penalty and refund nearly $600,000 in fees to thousands of customers whose accounts were illegally garnished, the Consumer Financial Protection Bureau announced on Wednesday. The CFPB said its enforcement action stems from the nation's second-biggest bank processing illegal, out-of-state garnishment orders against its customers' bank accounts. Customer accounts were unlawfully frozen, charged illegal fees, and had money withdrawn and sent to creditors based on court orders that should have been processed under the laws of the state where they live, the agency said. Since August 2011, BofA unlawfully garnished at least 3,700 out-of-state-accounts, charging at least $592,000 in garnishment fees while engaging in unfair practices, according to the bureau. Some state laws limit court-ordered garnishments on bank accounts and paychecks to ensure people still have enough to live on, the CFPB noted. BofA misled consumers about their rights to have certain funds exempted from garnishment and also improperly required customers to "direct" the bank not to contest garnishment orders against them. "Bank of America imposed unlawful garnishment fees and injured its customers by inserting unenforceable clauses into contracts in an attempt to strip legal rights from families," CFPB Rohit Chopra said in a statement. "The CFPB is ordering Bank of America to fix its systems, clean up its contracts and make its victims whole." The cases flagged by the CFPB represent less than half a percent of the 1 million court orders processed by BofA during the five years reviewed by the federal agency, according to the company. Charlotte, North Carolina-based BofA operates about 4,100 branches across the U.S. "We have enhanced our processes to ensure compliance with all applicable state laws as we execute court orders. As part of this agreement, we will refund associated fees to customers involved in approximately 3,700 cases," a Bank of America spokesperson said in a statement.