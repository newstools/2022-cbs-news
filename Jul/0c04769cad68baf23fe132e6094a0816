Sri Lanka's embattled government declared a nationwide state of emergency on Wednesday in a bid to contain massive protests that continued after the country's president, Gotabaya Rajapaksa, fled to the Maldives. Protesters stormed the homes of both the president and the prime minister over the weekend, demanding that both leaders step down. Sri Lankans blame their government for a dire, months-long economic crisis that has left many struggling to afford basic necessities. Prime Minister Ranil Wickremesinghe, who has taken over as acting president of the country, imposed the emergency order in a bid to wrest back control of the capital city amid the huge protests. But his declaration served only to refocus the demonstrators' anger at him, and his office became an epicenter of the protests on Wednesday. Police imposed an indefinite curfew in one province and a nationwide curfew until 5:00 a.m. Sri Lanka sits just off India's southeast coast and is home to about 22 million people. Wickremesinghe delivered a televised address to the nation on Wednesday, saying security measures had been stepped up and that he'd ordered the military to do whatever was necessary to restore order. "We must end this fascist threat to democracy," he said. "We can't allow the destruction of state property. The president's office, the president's secretariat and the prime minister's official residence must be returned to proper custody." "We can't allow fascists to take over. Some mainstream politicians, too, seem to be supporting these extremists. That is why I declared a nationwide emergency and a curfew," Wickremesinghe said. The prime minister's office said earlier this week that President Rajapaksa would resign on Wednesday to clear the way for a "peaceful transition of power." But instead of resigning he fled to the Maldives, fueling the anger on the streets. The Speaker of the Sri Lankan Parliament, Mahinda Yapa Abeywardenam, said Rajapaksa had informed him in a telephone call that he would still resign as promised, but it was unclear if the move was still coming Wednesday â€” or whether it would do anything to quell the protesters' rage. The president flew to the Maldives aboard a military aircraft with his wife and two bodyguards, according to the French news agency AFP. As soon as word of his escape got out on Wednesday, thousands of protesters mobbed Wickremesinghe's office. Seemingly keen to avoid a repeat of the dramatic scenes that played out over the weekend when protesters occupied the president's opulent residence, Sri Lankan security forces fired tear gas at the protesters as they chanted "Go home Ranil! Go home Gota!" referring to the leaders. Eventually the protesters made it into the building and appeared on its balconies with their fists and phones raised in triumph. On Saturday, thousands of protesters stormed Rajapaksa's official residence, ransacking parts of it, but also lounging in its luxurious bedrooms, gym, and swimming pool. Families, many with small children, came to soak up the atmosphere and pose for photos in the ornate grounds in what looked like a victory parade for the popular uprising. But the leaders they've protested to force out of power were still both technically holding their offices on Wednesday. Since the protests erupted late last week, those taking part have demanded the immediate resignations of both the president and the prime minister. The prime minister has said he will only leave his post once a new government is in place. According to Sri Lanka's constitution, the prime minister takes over as acting president if the president resigns or is incapacitated. The country's lawmakers have held several meetings this week to try to elect a new president, but there has been no consensus. In the power vacuum, the anger that's built for months over food, medicine and fuel shortages and skyrocketing prices has continued to mount. Sri Lankans have faced long power cuts this summer and been forced to spend hours in lines at gas stations to buy less than a gallon of fuel. The country's cash reserves are running extremely low, forcing Sri Lanka to default on its massive foreign debt of $51 billion as it's been unable to make interest payments on its loans. The government blamed the COVID-19 pandemic for sapping the country of its vital tourism income, but economists say there are other factors behind the economic crisis, including political corruption and economic mismanagement. The government has been in talks with the International Monetary Fund (IMF) to secure a $3 billion bailout package, but the timing of that remained unclear Wednesday. Meanwhile, some Sri Lankans living in the Maldives staged a protest demanding that the Maldivian government send Rajapaksa back home to face the music. But Sri Lankan news outlet the Daily Mirror reported, quoting unnamed sources, that Rajapaksa would instead fly to Singapore later on Wednesday.