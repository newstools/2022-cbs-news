Wall Street rallied Tuesday to its best day in three weeks as more reports pour in on how much profit companies earned during the spring. The S&P 500 rose 2.8% after a powerful tide carried 99% of the stocks in the index upward. The Dow added 2.4% and the Nasdaq rose 3.1%. Small-company stocks rose even more, pushing the Russell 2000 index up 3.5%. More types of companies are reporting how much they earned during the spring, broadening out from the banks that dominated the earliest part of the reporting season. Hasbro and Halliburton rose after reporting stronger profits than analysts expected. At the same time, the ongoing decline in the price of gas — with a gallon dipping below $4.50 on Tuesday for the first time since May — is easing concerns about inflation. "The most important change in the market concerns U.S. inflation, which is (ever so slightly) turning the corner in a more favorable direction," Adam Crisafulli of Vital Knowledge said in a research note. "Full-blown disinflation won't dominate the narrative for another couple of months, but that point is approaching and once it arrives, the Fed will shift its messaging in a less hawkish direction." Stocks had dropped roughly 20% this year on worries about rising interest rates and high inflation, which puts an even brighter spotlight than usual on how much profit companies are making. If earnings hold up, it would provide a major support for markets. But if CEOs warn about troubles ahead, another tumble may be on the way. After the close of trading, Netflix reported its latest quarterly results, noting that it lost almost 1 million customers in the period. That was less than the 2 million it had expected to lose, and the company's per-share earnings exceeded analysts' estimates. The stock jumped 5.6% in trading after the close of markets. Earlier on Tuesday, toy company Hasbro rose 0.6% after it reported stronger profit than analysts expected. Oilfield services provider Halliburton added 0.7% after its profit and revenue topped forecasts. Twitter rose 2.7% after a court in Delaware agreed to quickly schedule a lawsuit that could force billionaire Elon Musk to make good on his agreement to buy the company. IBM, though, fell 5.9% despite reporting stronger revenue and earnings than expected. The company's profit margins fell short of some analysts' expectations, and concerns are rising about the effect of the dollar's recent strength against other currencies. While a stronger dollar helps limit inflation at home, it can also undercut the value of sales made abroad by U.S. companies. The dollar's value eased a bit against other currencies Tuesday, which allayed some fears for the market. So too, counterintuitively, may have a report that showed an extreme level of pessimism among investors. Expectations for economic growth and profits have plunged, according to the latest results from Bank of America's monthly survey of global fund managers. That has them sitting on their highest cash levels since 2001 and their lowest allocations to stocks since 2008. "Full capitulation" is how Michael Hartnett, chief investment strategist, called it in a BofA Global Research report. Contrarian investors see such dire levels of pessimism as an encouraging signal, which could presage better times ahead if everyone who was going to sell has already. Given all those fears, though, big swings have become routine on Wall Street recently. The S&P 500 has been flip-flopping between weekly gains and losses over the last month, after a rough run where it dropped in 10 of 11 weeks. The swings have even hit hour to hour, with early morning gains quickly evaporating by the afternoon. On Monday, an early 1% gain gave way to a 0.8% loss. On Thursday, the European Central Bank is expected to raise interest rates for the first time in 11 years in hopes of knocking down high inflation. "Reports early this morning suggested the ECB could hike rates by 50 basis points on Thursday and that pressured the USD, something investors eagerly welcomed (USD strength has been a large overhang for months)," Crisafulli wrote. The Federal Reserve has already raised rates three times this year, and by increasing amounts each time. It will announce its next increase next week, and the only question among investors is whether it will go with another increase of 0.75 percentage points or a colossal hike of a full point. The yield on the two-year Treasury, which tends to track expectations for Fed action, rose to 3.22% from 3.17% late Monday. The 10-year yield rose to 3.02% from 2.96%. In energy trading, benchmark U.S. crude rose 1.6% to settle at $104.22 after falling earlier in the day. Brent crude, the international standard, added 1% to settle at $107.35.